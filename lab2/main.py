from service import *
import numpy as np


def main():
    matrix_A1 = [
        [1, -2, 1, 0, -1, 1, -2, 2, 0, -2],
        [0, 2, 0, 0, 2, 1, -1, -1, -1, -2],
        [0, 1, 0, -1, 1, -1, 0, -1, 1, -1],
        [-2, -1, 2, -1, 0, 0, 0, 0, 1, 0],
        [1, -2, 0, 1, 0, -2, -1, 0, 2, 2],
        [-2, -2, 0, -2, 0, 1, 1, -2, 1, 1],
        [-1, -2, -1, -1, -2, -1, -2, 1, -1, 2],
        [-2, 1, 2, -2, 0, 2, 1, -1, -2, 2],
        [0, 1, 0, 1, 1, -2, 2, 0, 1, 1],
        [0, 0, 2, -1, -1, 0, -2, 2, -1, -1]]
    matrix_A2 = [
        [-1, 1, -1, 0, -1, 0, -1, 1, 1, -1, 0, -1, -1, 1, 0, 0, 1, 1, 1, 1],
        [-1, 0, -1, 1, -1, 0, 0, 0, 0, -1, 0, 0, -1, 1, 0, -1, 1, -1, -1, 0],
        [1, 0, -1, 1, 0, 1, -1, -1, -1, 0, -1, -1, 1, -1, 1, 1, -1, 1, -1, 0],
        [-1, 1, 0, 0, -1, 0, 0, -1, 0, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, 0],
        [1, 0, -1, 0, 0, -1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, -1, 0, 0, 1],
        [0, 0, 0, 0, -1, 1, 1, 0, 0, 1, 1, 0, -1, 0, 1, 1, 0, 1, 0, 0],
        [-1, 0, 1, 1, 1, -1, -1, 0, -1, 1, -1, -1, -1, 0, -1, 0, 0, 0, -1, 1],
        [0, 0, -1, -1, 0, 1, 1, 1, 1, -1, 0, 0, -1, 1, 1, 1, 1, 0, 0, -1],
        [0, 0, 1, 1, 0, 1, 1, 0, 1, -1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1],
        [0, -1, 0, 0, 1, 0, -1, 0, -1, 0, -1, 0, -1, 0, 1, -1, 0, 0, 1, 1],
        [1, -1, 1, -1, -1, -1, 1, 0, -1, 0, 1, 1, -1, 0, 1, 1, 1, 0, 0, 0],
        [0, 1, 0, 0, -1, 0, 1, 0, 1, 0, 0, 1, 1, -1, -1, 0, -1, 1, 1, -1],
        [-1, -1, -1, -1, 0, 1, -1, 0, 0, -1, 0, 0, 0, 1, 1, 0, 0, 0, -1, 0],
        [-1, 0, 1, 0, -1, 0, 0, 1, -1, 1, 1, -1, 1, 1, 1, -1, 1, -1, -1, 0],
        [1, -1, 0, -1, -1, 0, -1, -1, 0, 0, 1, 0, 1, 1, -1, 1, 0, 0, -1, 0],
        [-1, -1, 1, 0, -1, 1, 1, -1, 1, 0, 0, -1, 1, -1, -1, 0, 0, 1, 1, 1],
        [0, 0, -1, 0, 0, 0, 0, -1, 1, 1, 0, -1, 1, -1, 0, 0, 0, -1, -1, 1],
        [-1, 0, -1, -1, -1, 1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, 0, -1, 0, -1],
        [-1, 0, 1, 0, 0, 0, 0, -1, 1, -1, 1, -1, 0, -1, -1, 1, 0, 1, 0, 0],
        [0, -1, -1, 1, -1, 1, -1, -1, -1, 1, 1, -1, 0, -1, -1, 0, 1, 0, -1, -1]
    ]

    A_testing = [
        [-7,12,5],
        [-5,10,5],
        [-12,12,10]
    ]
    A2_testing = [
        [-16,27,-5],
        [-5,16,-5],
        [-12,12,1]
    ]

    # print(Matrix.max_eigen_value(matrix_A1, [1,2,1,2,3,4,5,1,1,3], 0.01))
    # y0 = [[1],[3],[0]]
    y01 = [
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1]
    ]
    y02 = [
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1]
    ]
    # y0 = [
    #     [1],
    #     [2],
    #     [0]
    # ]
    eigen_value, eigen_vector = Matrix.max_eigen_value(matrix_A1, y01, 0.00001)
    print(eigen_value)
    print(Matrix.display(Matrix.dot(matrix_A1, eigen_vector), "dot"))
    print(Matrix.display(Matrix.scalar_multiply(eigen_vector, eigen_value), "eigen"))
    # print(np.linalg.eigvalsh(matrix_A1))
    # print(Matrix.display(matrix_A2, "A2"))


if __name__ == "__main__":
    main()
